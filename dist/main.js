!function(e){function t(n){if(r[n])return r[n].exports;var i=r[n]={exports:{},id:n,loaded:!1};return e[n].call(i.exports,i,i.exports,t),i.loaded=!0,i.exports}var r={};return t.m=e,t.c=r,t.p="dist/",t(0)}([function(e,t,r){e.exports=r(1)},function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}r(2);var i=r(7),o=n(i),a=new o.default;document.addEventListener("DOMContentLoaded",function(){a.start()})},function(e,t,r){var n=r(3);"string"==typeof n&&(n=[[e.id,n,""]]);r(6)(n,{});n.locals&&(e.exports=n.locals)},function(e,t,r){t=e.exports=r(4)(),t.push([e.id,"body,html{margin:0;padding:0;height:100%;overflow:hidden;perspective:7000px;font-family:sans-serif;background-image:url("+r(5)+");background-repeat:no-repeat;background-position:50%;background-size:cover}h1,h2{font-family:Quicksand,sans-serif}h1{font-size:6vw;margin-bottom:3px}.file{position:relative;width:150px;height:170px;padding:25px;margin:15px auto;color:#000;background:linear-gradient(to bottom left,transparent 50%,#eee 0),linear-gradient(90deg,#fff 99.9%,transparent 0),linear-gradient(90deg,#fff 99.9%,transparent 0);background-size:16px 16px,100% 100%,100% 100%;background-position:100% 0,-16px 0,100% 16px;background-repeat:no-repeat;overflow:hidden;-webkit-box-shadow:-5px 4px 17px -6px rgba(0,0,0,.5);-moz-box-shadow:-5px 4px 17px -6px rgba(0,0,0,.5);box-shadow:-5px 4px 17px -6px rgba(0,0,0,.5)}.intro table{margin:0 auto}.intro .key{border:2px solid #000;height:40px;min-width:40px;border-radius:4px;transition:.1s}.intro .space.key{width:200px}.intro .key.pressed{background-color:#d3d3d3}.intro .blank{width:75px}.intro .asdf{display:flex;margin-top:50px}.intro .asdf>div{flex:1;padding:15px;border:3px dashed gray;border-radius:5px;margin:15px}.intro .asdf>div:first-child{margin-left:30px;padding-bottom:270px}.intro .asdf>div:last-child{margin-right:30px}.intro pre{text-align:left}.dispose-left{animation-name:dispose-left;animation-duration:.15s;animation-fill-mode:forwards}.show-right{animation-delay:.2s;animation-fill-mode:forwards}.dispose-right,.show-right{animation-name:show-right;animation-duration:.15s}.dispose-right{animation-fill-mode:forwards}.dispose-right,.show-left{animation-direction:reverse}.show-left{animation-name:dispose-left;animation-duration:.15s;animation-delay:.2s;animation-fill-mode:forwards}.drag-and-drop{animation-name:drag-and-drop;animation-duration:5s;animation-iteration-count:infinite}.highlight-dropzone{animation-name:highlight-dropzone;animation-duration:5s;animation-iteration-count:infinite}#drop{background-color:#d3d3d3}#instructions>div{width:100%}.visible{opacity:1}.invisible{opacity:0}.overlay{position:absolute;top:0;left:0;right:0;bottom:0;text-align:center;background-color:#fff;transition:.2s}.overlay>div{position:absolute;left:50%;top:50%;transform:translate(-50%,-50%)}@keyframes show-right{0%{opacity:0;transform:translate(-50%,-50%) scale(.5)}to{opacity:1;transform:translate(-50%,-50%) scale(1)}}@keyframes dispose-left{0%{opacity:1;transform:translate(-50%,-50%)}80%{opacity:0}to{opacity:0;transform:translate(-80%,-50%) scale(1.3) rotate(-35deg)}}@keyframes drag-and-drop{0%{opacity:0;position:absolute;left:17%;transform:translate(-50%) scale(1) rotate(0deg)}4%{opacity:1;position:absolute;left:17%;transform:translate(-50%) scale(1) rotate(0deg)}54%{opacity:1;position:absolute;left:17%;transform:translate(-50%) scale(1) rotate(0deg)}87%{opacity:1;position:absolute;left:50%;transform:translate(-50%) scale(1)}95%{opacity:1;position:absolute;left:50%;transform:translate(-50%) scale(1) rotate(0deg)}to{opacity:0;position:absolute;left:50%;transform:translate(-50%) scale(.5) rotate(15deg)}}@keyframes highlight-dropzone{50%{background-color:#fff}73%{background-color:#fff}87%{background-color:#d3d3d3}95%{background-color:#d3d3d3}to{background-color:#fff}}#card{width:90%;height:90%;position:absolute;left:50%;top:50%;transform:translate(-50%,-50%);transform-style:preserve-3d;font-family:Poppins,sans-serif;opacity:0}#card.flipped #front{transform:rotateY(180deg)!important}#card.flipped #back{transform:rotateY(0deg)!important}#card #back,#card #front{backface-visibility:hidden;border:1px solid #d3d3d3;position:absolute;top:0;left:0;bottom:0;right:0;padding:4%;transition:.2s;box-shadow:5px 5px 15px #000}#card #back .container,#card #front .container{height:100%;position:relative}#card #back .container .contents,#card #front .container .contents{cursor:default;text-align:center;font-weight:700;max-height:100%;max-width:100%;overflow:hidden;overflow-wrap:normal;transform:translateY(-50%);position:absolute;top:50%;-webkit-touch-callout:none;-webkit-user-select:none;-khtml-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none}#card #back .container .contents ul,#card #front .container .contents ul{text-align:left;margin-left:20px}#card #front{transform:rotateY(0deg);z-index:2;background-color:#fff}#card #back{transform:rotateY(-180deg);z-index:1;background-color:#fff}",""])},function(e,t){"use strict";e.exports=function(){var e=[];return e.toString=function(){for(var e=[],t=0;t<this.length;t++){var r=this[t];r[2]?e.push("@media "+r[2]+"{"+r[1]+"}"):e.push(r[1])}return e.join("")},e.i=function(t,r){"string"==typeof t&&(t=[[null,t,""]]);for(var n={},i=0;i<this.length;i++){var o=this[i][0];"number"==typeof o&&(n[o]=!0)}for(i=0;i<t.length;i++){var a=t[i];"number"==typeof a[0]&&n[a[0]]||(r&&!a[2]?a[2]=r:r&&(a[2]="("+a[2]+") and ("+r+")"),e.push(a))}},e}},function(e,t,r){e.exports=r.p+"5dc6032a04dfa06f61672507487abbd5.jpg"},function(e,t,r){function n(e,t){for(var r=0;r<e.length;r++){var n=e[r],i=d[n.id];if(i){i.refs++;for(var o=0;o<i.parts.length;o++)i.parts[o](n.parts[o]);for(;o<n.parts.length;o++)i.parts.push(u(n.parts[o],t))}else{for(var a=[],o=0;o<n.parts.length;o++)a.push(u(n.parts[o],t));d[n.id]={id:n.id,refs:1,parts:a}}}}function i(e){for(var t=[],r={},n=0;n<e.length;n++){var i=e[n],o=i[0],a=i[1],s=i[2],l=i[3],u={css:a,media:s,sourceMap:l};r[o]?r[o].parts.push(u):t.push(r[o]={id:o,parts:[u]})}return t}function o(e,t){var r=v(),n=b[b.length-1];if("top"===e.insertAt)n?n.nextSibling?r.insertBefore(t,n.nextSibling):r.appendChild(t):r.insertBefore(t,r.firstChild),b.push(t);else{if("bottom"!==e.insertAt)throw new Error("Invalid value for parameter 'insertAt'. Must be 'top' or 'bottom'.");r.appendChild(t)}}function a(e){e.parentNode.removeChild(e);var t=b.indexOf(e);t>=0&&b.splice(t,1)}function s(e){var t=document.createElement("style");return t.type="text/css",o(e,t),t}function l(e){var t=document.createElement("link");return t.rel="stylesheet",o(e,t),t}function u(e,t){var r,n,i;if(t.singleton){var o=m++;r=y||(y=s(t)),n=c.bind(null,r,o,!1),i=c.bind(null,r,o,!0)}else e.sourceMap&&"function"==typeof URL&&"function"==typeof URL.createObjectURL&&"function"==typeof URL.revokeObjectURL&&"function"==typeof Blob&&"function"==typeof btoa?(r=l(t),n=h.bind(null,r),i=function(){a(r),r.href&&URL.revokeObjectURL(r.href)}):(r=s(t),n=f.bind(null,r),i=function(){a(r)});return n(e),function(t){if(t){if(t.css===e.css&&t.media===e.media&&t.sourceMap===e.sourceMap)return;n(e=t)}else i()}}function c(e,t,r,n){var i=r?"":n.css;if(e.styleSheet)e.styleSheet.cssText=w(t,i);else{var o=document.createTextNode(i),a=e.childNodes;a[t]&&e.removeChild(a[t]),a.length?e.insertBefore(o,a[t]):e.appendChild(o)}}function f(e,t){var r=t.css,n=t.media;if(n&&e.setAttribute("media",n),e.styleSheet)e.styleSheet.cssText=r;else{for(;e.firstChild;)e.removeChild(e.firstChild);e.appendChild(document.createTextNode(r))}}function h(e,t){var r=t.css,n=t.sourceMap;n&&(r+="\n/*# sourceMappingURL=data:application/json;base64,"+btoa(unescape(encodeURIComponent(JSON.stringify(n))))+" */");var i=new Blob([r],{type:"text/css"}),o=e.href;e.href=URL.createObjectURL(i),o&&URL.revokeObjectURL(o)}var d={},p=function(e){var t;return function(){return"undefined"==typeof t&&(t=e.apply(this,arguments)),t}},g=p(function(){return/msie [6-9]\b/.test(window.navigator.userAgent.toLowerCase())}),v=p(function(){return document.head||document.getElementsByTagName("head")[0]}),y=null,m=0,b=[];e.exports=function(e,t){t=t||{},"undefined"==typeof t.singleton&&(t.singleton=g()),"undefined"==typeof t.insertAt&&(t.insertAt="bottom");var r=i(e);return n(r,t),function(e){for(var o=[],a=0;a<r.length;a++){var s=r[a],l=d[s.id];l.refs--,o.push(l)}if(e){var u=i(e);n(u,t)}for(var a=0;a<o.length;a++){var l=o[a];if(0===l.refs){for(var c=0;c<l.parts.length;c++)l.parts[c]();delete d[l.id]}}}};var w=function(){var e=[];return function(t,r){return e[t]=r,e.filter(Boolean).join("\n")}}()},function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var o=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),a=r(8),s=n(a),l=r(16),u=n(l),c=r(17),f=n(c),h=5,d=[1024,512,256,128,64,32,16,8,4,2,1],p=function(){function e(){i(this,e),this._deck=null,this.qrCode=document.getElementById("qrCode"),this.instructions=document.getElementById("instructions"),this.drop=document.getElementById("drop"),this.card=document.getElementById("card"),this.front=this.card.querySelector("#front"),this.back=this.card.querySelector("#back"),this.frontText=this.card.querySelector("#front .contents"),this.backText=this.card.querySelector("#back .contents"),document.addEventListener("dragover",this.handleDragOver.bind(this),!0),document.addEventListener("dragleave",this.handleDragLeave.bind(this),!0),document.addEventListener("drop",this.handleDrop.bind(this),!0),window.addEventListener("keydown",this.handleKeyDown.bind(this)),window.addEventListener("keyup",this.handleKeyUp.bind(this)),window.addEventListener("resize",this.render.bind(this))}return o(e,[{key:"previous",value:function(){card.classList.remove("show-right"),card.classList.remove("dispose-left"),card.classList.remove("show-left"),card.classList.add("dispose-right"),setTimeout(function(){this._deck.previous(),this.render(),card.classList.remove("dispose-right"),card.classList.add("show-left")}.bind(this),150)}},{key:"next",value:function(){card.classList.remove("show-right"),card.classList.remove("dispose-right"),card.classList.remove("show-left"),card.classList.add("dispose-left"),setTimeout(function(){this._deck.next(),this.render(),card.classList.remove("dispose-left"),card.classList.add("show-right")}.bind(this),150)}},{key:"render",value:function(){this._deck&&(this._deck.top.flipped?this.card.classList.add("flipped"):this.card.classList.remove("flipped"),this.frontText.innerHTML=this._deck.top.front,this.backText.innerHTML=this._deck.top.back,this.resizeText(this.frontText),this.resizeText(this.backText))}},{key:"resizeText",value:function(e){var t=1;if(e.innerText)for(var r=0;r<d.length;++r)t+=d[r],e.style.fontSize=t+"px",(e.scrollWidth>e.clientWidth+h||e.scrollHeight>e.clientHeight+h)&&(t-=d[r],e.style.fontSize=t+"px")}},{key:"showQRCode",value:function(){qrCode.classList.remove("invisible")}},{key:"hideQRCode",value:function(){qrCode.classList.add("invisible")}},{key:"handleKeyDown",value:function(e){e.keyCode==u.default.SPACE?(document.querySelector(".key.space").classList.add("pressed"),document.querySelector(".effect").innerText="flip card",this._deck.top.flip(),this.render()):e.keyCode==u.default.ENTER?this.showQRCode():e.keyCode==u.default.LEFT?(document.querySelector(".key.left").classList.add("pressed"),document.querySelector(".effect").innerText="previous card",this.previous()):e.keyCode==u.default.RIGHT&&(document.querySelector(".key.right").classList.add("pressed"),document.querySelector(".effect").innerText="next card",this.next())}},{key:"handleKeyUp",value:function(e){e.keyCode==u.default.ENTER?this.hideQRCode():e.keyCode==u.default.SPACE?(document.querySelector(".key.space").classList.remove("pressed"),"flip card"==document.querySelector(".effect").innerText&&(document.querySelector(".effect").innerText="")):e.keyCode==u.default.LEFT?(document.querySelector(".key.left").classList.remove("pressed"),"previous card"==document.querySelector(".effect").innerText&&(document.querySelector(".effect").innerText="")):e.keyCode==u.default.RIGHT&&(document.querySelector(".key.right").classList.remove("pressed"),"next card"==document.querySelector(".effect").innerText&&(document.querySelector(".effect").innerText=""))}},{key:"handleDrop",value:function(e){e.stopPropagation(),e.preventDefault();for(var t,r=e.dataTransfer.files,n=0;t=r[n];n++){var i=new FileReader;i.onload=function(e){e.target.result&&(this._deck=new s.default(e.target.result),this.render(),(new f.default).create(e.target.result).then(function(e){var t=new Image;t.src=e,this.qrCode.querySelector("#code").appendChild(t)}.bind(this)))}.bind(this),i.readAsText(t)}drop.classList.add("invisible"),instructions.classList.add("invisible")}},{key:"handleDragOver",value:function(e){e.stopPropagation(),e.preventDefault(),e.dataTransfer.dropEffect="copy",drop.classList.remove("invisible")}},{key:"handleDragLeave",value:function(e){drop.classList.add("invisible")}},{key:"start",value:function(){this.render()}}]),e}();t.default=p},function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var o=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),a=r(9),s=n(a),l=3,u=function(){function e(t){i(this,e),this._cards=[],this._parseData(t)}return o(e,[{key:"_parseData",value:function(e){for(var t=e.split(/\n+\-{3,}\n+/g),r=0;r<t.length;r+=2){var n=t[r],i=r+1<t.length?t[r+1]:"";this._cards.push(new s.default(n,i))}this._shuffle(this._cards)}},{key:"_shuffle",value:function(e){for(var t=e.length;t;--t){var r=~~(Math.random()*t),n=[e[r],e[t-1]];e[t-1]=n[0],e[r]=n[1]}}},{key:"_shuffleMiddle",value:function(){var e=this._cards.length-2*l;if(!(e<2)){var t=~~(Math.random()*e)+l,r=~~(Math.random()*e)+l,n=[this._cards[r],this._cards[t]];this._cards[t]=n[0],this._cards[r]=n[1]}}},{key:"previous",value:function(){this.top.flipped&&this.top.flip(),this._cards.unshift(this._cards.pop()),this._shuffleMiddle()}},{key:"next",value:function(){this.top.flipped&&this.top.flip(),this._cards.push(this._cards.shift()),this._shuffleMiddle()}},{key:"top",get:function(){return this._cards[0]}}]),e}();t.default=u},function(e,t,r){"use strict";function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),o=r(10),a=function(){function e(t,r){n(this,e),this._front=o.markdown.toHTML(t),this._back=o.markdown.toHTML(r),this._flipped=!1}return i(e,[{key:"flip",value:function(){this._flipped=!this._flipped}},{key:"flipped",get:function(){return this._flipped}},{key:"front",get:function(){return this._front}},{key:"back",get:function(){return this._back}}]),e}();t.default=a},function(e,t,r){"use strict";t.markdown=r(11),t.parse=t.markdown.toHTML},function(e,t,r){"use strict";var n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};!function(e){function t(){return"Markdown.mk_block( "+uneval(this.toString())+", "+uneval(this.trailing)+", "+uneval(this.lineNumber)+" )"}function i(){var e=r(12);return"Markdown.mk_block( "+e.inspect(this.toString())+", "+e.inspect(this.trailing)+", "+e.inspect(this.lineNumber)+" )"}function o(e){for(var t=0,r=-1;(r=e.indexOf("\n",r+1))!==-1;)t++;return t}function s(e,t){function r(e){this.len_after=e,this.name="close_"+t}var n=e+"_state",i="strong"==e?"em_state":"strong_state";return function(o,a){if(this[n][0]==t)return this[n].shift(),[o.length,new r(o.length-t.length)];var s=this[i].slice(),l=this[n].slice();this[n].unshift(t);var u=this.processInline(o.substr(t.length)),c=u[u.length-1];this[n].shift();if(c instanceof r){u.pop();var f=o.length-c.len_after;return[f,[e].concat(u)]}return this[i]=s,this[n]=l,[t.length,t]}}function l(e){for(var t=e.split(""),r=[""],n=!1;t.length;){var i=t.shift();switch(i){case" ":n?r[r.length-1]+=i:r.push("");break;case"'":case'"':n=!n;break;case"\\":i=t.shift();default:r[r.length-1]+=i}}return r}function u(e){return m(e)&&e.length>1&&"object"===n(e[1])&&!m(e[1])?e[1]:void 0}function c(e){return e.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#39;")}function f(e){if("string"==typeof e)return c(e);var t=e.shift(),r={},i=[];for(!e.length||"object"!==n(e[0])||e[0]instanceof Array||(r=e.shift());e.length;)i.push(f(e.shift()));var o="";for(var a in r)o+=" "+a+'="'+c(r[a])+'"';return"img"==t||"br"==t||"hr"==t?"<"+t+o+"/>":"<"+t+o+">"+i.join("")+"</"+t+">"}function h(e,t,r){var n;r=r||{};var i=e.slice(0);"function"==typeof r.preprocessTreeNode&&(i=r.preprocessTreeNode(i,t));var o=u(i);if(o){i[1]={};for(n in o)i[1][n]=o[n];o=i[1]}if("string"==typeof i)return i;switch(i[0]){case"header":i[0]="h"+i[1].level,delete i[1].level;break;case"bulletlist":i[0]="ul";break;case"numberlist":i[0]="ol";break;case"listitem":i[0]="li";break;case"para":i[0]="p";break;case"markdown":i[0]="html",o&&delete o.references;break;case"code_block":i[0]="pre",n=o?2:1;var a=["code"];a.push.apply(a,i.splice(n,i.length-n)),i[n]=a;break;case"inlinecode":i[0]="code";break;case"img":i[1].src=i[1].href,delete i[1].href;break;case"linebreak":i[0]="br";break;case"link":i[0]="a";break;case"link_ref":i[0]="a";var s=t[o.ref];if(!s)return o.original;delete o.ref,o.href=s.href,s.title&&(o.title=s.title),delete o.original;break;case"img_ref":i[0]="img";var s=t[o.ref];if(!s)return o.original;delete o.ref,o.src=s.href,s.title&&(o.title=s.title),delete o.original}if(n=1,o){for(var l in i[1]){n=2;break}1===n&&i.splice(n,1)}for(;n<i.length;++n)i[n]=h(i[n],t,r);return i}function d(e){for(var t=u(e)?2:1;t<e.length;)"string"==typeof e[t]?t+1<e.length&&"string"==typeof e[t+1]?e[t]+=e.splice(t+1,1)[0]:++t:(d(e[t]),++t)}var g=e.Markdown=function(e){switch("undefined"==typeof e?"undefined":n(e)){case"undefined":this.dialect=g.dialects.Gruber;break;case"object":this.dialect=e;break;default:if(!(e in g.dialects))throw new Error("Unknown Markdown dialect '"+String(e)+"'");this.dialect=g.dialects[e]}this.em_state=[],this.strong_state=[],this.debug_indent=""};e.parse=function(e,t){var r=new g(t);return r.toTree(e)},e.toHTML=function(t,r,n){var i=e.toHTMLTree(t,r,n);return e.renderJsonML(i)},e.toHTMLTree=function(e,t,r){"string"==typeof e&&(e=this.parse(e,t));var n=u(e),i={};n&&n.references&&(i=n.references);var o=h(e,i,r);return d(o),o};var v=g.mk_block=function(e,r,n){1==arguments.length&&(r="\n\n");var o=new String(e);return o.trailing=r,o.inspect=i,o.toSource=t,void 0!=n&&(o.lineNumber=n),o};g.prototype.split_blocks=function(e,t){e=e.replace(/(\r\n|\n|\r)/g,"\n");var r,n=/([\s\S]+?)($|\n#|\n(?:\s*\n|$)+)/g,i=[],a=1;for(null!=(r=/^(\s*\n)/.exec(e))&&(a+=o(r[0]),n.lastIndex=r[0].length);null!==(r=n.exec(e));)"\n#"==r[2]&&(r[2]="\n",n.lastIndex--),i.push(v(r[1],r[2],a)),a+=o(r[0]);return i},g.prototype.processBlock=function(e,t){var r=this.dialect.block,n=r.__order__;if("__call__"in r)return r.__call__.call(this,e,t);for(var i=0;i<n.length;i++){var o=r[n[i]].call(this,e,t);if(o)return(!m(o)||o.length>0&&!m(o[0]))&&this.debug(n[i],"didn't return a proper array"),o}return[]},g.prototype.processInline=function(e){return this.dialect.inline.__call__.call(this,String(e))},g.prototype.toTree=function(e,t){var r=e instanceof Array?e:this.split_blocks(e),n=this.tree;try{for(this.tree=t||this.tree||["markdown"];r.length;){var i=this.processBlock(r.shift(),r);i.length&&this.tree.push.apply(this.tree,i)}return this.tree}finally{t&&(this.tree=n)}},g.prototype.debug=function(){var e=Array.prototype.slice.call(arguments);e.unshift(this.debug_indent),"undefined"!=typeof print&&print.apply(print,e),"undefined"!=typeof console&&"undefined"!=typeof console.log&&console.log.apply(null,e)},g.prototype.loop_re_over_block=function(e,t,r){for(var n,i=t.valueOf();i.length&&null!=(n=e.exec(i));)i=i.substr(n[0].length),r.call(this,n);return i},g.dialects={},g.dialects.Gruber={block:{atxHeader:function(e,t){var r=e.match(/^(#{1,6})\s*(.*?)\s*#*\s*(?:\n|$)/);if(r){var n=["header",{level:r[1].length}];return Array.prototype.push.apply(n,this.processInline(r[2])),r[0].length<e.length&&t.unshift(v(e.substr(r[0].length),e.trailing,e.lineNumber+2)),[n]}},setextHeader:function(e,t){var r=e.match(/^(.*)\n([-=])\2\2+(?:\n|$)/);if(r){var n="="===r[2]?1:2,i=["header",{level:n},r[1]];return r[0].length<e.length&&t.unshift(v(e.substr(r[0].length),e.trailing,e.lineNumber+2)),[i]}},code:function(e,t){var r=[],n=/^(?: {0,3}\t| {4})(.*)\n?/;if(e.match(n)){e:for(;;){var i=this.loop_re_over_block(n,e.valueOf(),function(e){r.push(e[1])});if(i.length){t.unshift(v(i,e.trailing));break e}if(!t.length)break e;if(!t[0].match(n))break e;r.push(e.trailing.replace(/[^\n]/g,"").substring(2)),e=t.shift()}return[["code_block",r.join("\n")]]}},horizRule:function(e,t){var r=e.match(/^(?:([\s\S]*?)\n)?[ \t]*([-_*])(?:[ \t]*\2){2,}[ \t]*(?:\n([\s\S]*))?$/);if(r){var n=[["hr"]];return r[1]&&n.unshift.apply(n,this.processBlock(r[1],[])),r[3]&&t.unshift(v(r[3])),n}},lists:function(){function e(e){return new RegExp("(?:^("+l+"{0,"+e+"} {0,3})("+o+")\\s+)|(^"+l+"{0,"+(e-1)+"}[ ]{0,4})")}function t(e){return e.replace(/ {0,3}\t/g,"    ")}function r(e,t,r,n){if(t)return void e.push(["para"].concat(r));var i=e[e.length-1]instanceof Array&&"para"==e[e.length-1][0]?e[e.length-1]:e;n&&e.length>1&&r.unshift(n);for(var o=0;o<r.length;o++){var a=r[o],s="string"==typeof a;s&&i.length>1&&"string"==typeof i[i.length-1]?i[i.length-1]+=a:i.push(a)}}function n(e,t){for(var r=new RegExp("^("+l+"{"+e+"}.*?\\n?)*$"),n=new RegExp("^"+l+"{"+e+"}","gm"),i=[];t.length>0&&r.exec(t[0]);){var o=t.shift(),a=o.replace(n,"");i.push(v(a,o.trailing,o.lineNumber))}return i}function i(e,t,r){var n=e.list,i=n[n.length-1];if(!(i[1]instanceof Array&&"para"==i[1][0]))if(t+1==r.length)i.push(["para"].concat(i.splice(1,i.length-1)));else{var o=i.pop();i.push(["para"].concat(i.splice(1,i.length-1)),o)}}var o="[*+-]|\\d+\\.",a=/[*+-]/,s=new RegExp("^( {0,3})("+o+")[ \t]+"),l="(?: {0,3}\\t| {4})";return function(o,l){function u(e){var t=a.exec(e[2])?["bulletlist"]:["numberlist"];return d.push({list:t,indent:e[1]}),t}var c=o.match(s);if(c){for(var f,h,d=[],p=u(c),g=!1,v=[d[0].list];;){for(var m=o.split(/(?=\n)/),b="",w=0;w<m.length;w++){var k="",_=m[w].replace(/^\n/,function(e){return k=e,""}),x=e(d.length);if(c=_.match(x),void 0!==c[1]){b.length&&(r(f,g,this.processInline(b),k),g=!1,b=""),c[1]=t(c[1]);var E=Math.floor(c[1].length/4)+1;if(E>d.length)p=u(c),f.push(p),f=p[1]=["listitem"];else{var L=!1;for(h=0;h<d.length;h++)if(d[h].indent==c[1]){p=d[h].list,d.splice(h+1,d.length-(h+1)),L=!0;break}L||(E++,E<=d.length?(d.splice(E,d.length-E),p=d[E-1].list):(p=u(c),f.push(p))),f=["listitem"],p.push(f)}k=""}_.length>c[0].length&&(b+=k+_.substr(c[0].length))}b.length&&(r(f,g,this.processInline(b),k),g=!1,b="");var T=n(d.length,l);T.length>0&&(y(d,i,this),f.push.apply(f,this.toTree(T,[])));var S=l[0]&&l[0].valueOf()||"";if(!S.match(s)&&!S.match(/^ /))break;o=l.shift();var M=this.dialect.block.horizRule(o,l);if(M){v.push.apply(v,M);break}y(d,i,this),g=!0}return v}}}(),blockquote:function(e,t){if(e.match(/^>/m)){var r=[];if(">"!=e[0]){for(var n=e.split(/\n/),i=[],o=e.lineNumber;n.length&&">"!=n[0][0];)i.push(n.shift()),o++;var a=v(i.join("\n"),"\n",e.lineNumber);r.push.apply(r,this.processBlock(a,[])),e=v(n.join("\n"),e.trailing,o)}for(;t.length&&">"==t[0][0];){var s=t.shift();e=v(e+e.trailing+s,s.trailing,e.lineNumber)}var l=e.replace(/^> ?/gm,""),c=(this.tree,this.toTree(l,["blockquote"])),f=u(c);return f&&f.references&&(delete f.references,b(f)&&c.splice(1,1)),r.push(c),r}},referenceDefn:function(e,t){var r=/^\s*\[(.*?)\]:\s*(\S+)(?:\s+(?:(['"])(.*?)\3|\((.*?)\)))?\n?/;if(e.match(r)){u(this.tree)||this.tree.splice(1,0,{});var n=u(this.tree);void 0===n.references&&(n.references={});var i=this.loop_re_over_block(r,e,function(e){e[2]&&"<"==e[2][0]&&">"==e[2][e[2].length-1]&&(e[2]=e[2].substring(1,e[2].length-1));var t=n.references[e[1].toLowerCase()]={href:e[2]};void 0!==e[4]?t.title=e[4]:void 0!==e[5]&&(t.title=e[5])});return i.length&&t.unshift(v(i,e.trailing)),[]}},para:function(e,t){return[["para"].concat(this.processInline(e))]}}},g.dialects.Gruber.inline={__oneElement__:function(e,t,r){var n,i;t=t||this.dialect.inline.__patterns__;var o=new RegExp("([\\s\\S]*?)("+(t.source||t)+")");if(n=o.exec(e),!n)return[e.length,e];if(n[1])return[n[1].length,n[1]];var i;return n[2]in this.dialect.inline&&(i=this.dialect.inline[n[2]].call(this,e.substr(n.index),n,r||[])),i=i||[n[2].length,n[2]]},__call__:function(e,t){function r(e){"string"==typeof e&&"string"==typeof i[i.length-1]?i[i.length-1]+=e:i.push(e)}for(var n,i=[];e.length>0;)n=this.dialect.inline.__oneElement__.call(this,e,t,i),e=e.substr(n.shift()),y(n,r);return i},"]":function(){},"}":function(){},__escape__:/^\\[\\`\*_{}\[\]()#\+.!\-]/,"\\":function(e){return this.dialect.inline.__escape__.exec(e)?[2,e.charAt(1)]:[1,"\\"]},"![":function(e){var t=e.match(/^!\[(.*?)\][ \t]*\([ \t]*([^")]*?)(?:[ \t]+(["'])(.*?)\3)?[ \t]*\)/);if(t){t[2]&&"<"==t[2][0]&&">"==t[2][t[2].length-1]&&(t[2]=t[2].substring(1,t[2].length-1)),t[2]=this.dialect.inline.__call__.call(this,t[2],/\\/)[0];var r={alt:t[1],href:t[2]||""};return void 0!==t[4]&&(r.title=t[4]),[t[0].length,["img",r]]}return t=e.match(/^!\[(.*?)\][ \t]*\[(.*?)\]/),t?[t[0].length,["img_ref",{alt:t[1],ref:t[2].toLowerCase(),original:t[0]}]]:[2,"!["]},"[":function e(t){var r=String(t),n=g.DialectHelpers.inline_until_char.call(this,t.substr(1),"]");if(!n)return[1,"["];var e,i,o=1+n[0],a=n[1];t=t.substr(o);var s=t.match(/^\s*\([ \t]*([^"']*)(?:[ \t]+(["'])(.*?)\2)?[ \t]*\)/);if(s){var l=s[1];if(o+=s[0].length,l&&"<"==l[0]&&">"==l[l.length-1]&&(l=l.substring(1,l.length-1)),!s[3])for(var u=1,c=0;c<l.length;c++)switch(l[c]){case"(":u++;break;case")":0==--u&&(o-=l.length-c,l=l.substring(0,c))}return l=this.dialect.inline.__call__.call(this,l,/\\/)[0],i={href:l||""},void 0!==s[3]&&(i.title=s[3]),e=["link",i].concat(a),[o,e]}return s=t.match(/^\s*\[(.*?)\]/),s?(o+=s[0].length,i={ref:(s[1]||String(a)).toLowerCase(),original:r.substr(0,o)},e=["link_ref",i].concat(a),[o,e]):1==a.length&&"string"==typeof a[0]?(i={ref:a[0].toLowerCase(),original:r.substr(0,o)},e=["link_ref",i,a[0]],[o,e]):[1,"["]},"<":function(e){var t;return null!=(t=e.match(/^<(?:((https?|ftp|mailto):[^>]+)|(.*?@.*?\.[a-zA-Z]+))>/))?t[3]?[t[0].length,["link",{href:"mailto:"+t[3]},t[3]]]:"mailto"==t[2]?[t[0].length,["link",{href:t[1]},t[1].substr("mailto:".length)]]:[t[0].length,["link",{href:t[1]},t[1]]]:[1,"<"]},"`":function(e){var t=e.match(/(`+)(([\s\S]*?)\1)/);return t&&t[2]?[t[1].length+t[2].length,["inlinecode",t[3]]]:[1,"`"]},"  \n":function(e){return[3,["linebreak"]]}},g.dialects.Gruber.inline["**"]=s("strong","**"),g.dialects.Gruber.inline.__=s("strong","__"),g.dialects.Gruber.inline["*"]=s("em","*"),g.dialects.Gruber.inline._=s("em","_"),g.buildBlockOrder=function(e){var t=[];for(var r in e)"__order__"!=r&&"__call__"!=r&&t.push(r);e.__order__=t},g.buildInlinePatterns=function(e){var t=[];for(var r in e)if(!r.match(/^__.*__$/)){var n=r.replace(/([\\.*+?|()\[\]{}])/g,"\\$1").replace(/\n/,"\\n");t.push(1==r.length?n:"(?:"+n+")")}t=t.join("|"),e.__patterns__=t;var i=e.__call__;e.__call__=function(e,r){return void 0!=r?i.call(this,e,r):i.call(this,e,t)}},g.DialectHelpers={},g.DialectHelpers.inline_until_char=function(e,t){for(var r=0,n=[];;){if(e.charAt(r)==t)return r++,[r,n];if(r>=e.length)return null;var i=this.dialect.inline.__oneElement__.call(this,e.substr(r));r+=i[0],n.push.apply(n,i.slice(1))}},g.subclassDialect=function(e){function t(){}function r(){}return t.prototype=e.block,r.prototype=e.inline,{block:new t,inline:new r}},g.buildBlockOrder(g.dialects.Gruber.block),g.buildInlinePatterns(g.dialects.Gruber.inline),g.dialects.Maruku=g.subclassDialect(g.dialects.Gruber),g.dialects.Maruku.processMetaHash=function(e){for(var t=l(e),r={},n=0;n<t.length;++n)if(/^#/.test(t[n]))r.id=t[n].substring(1);else if(/^\./.test(t[n]))r.class?r.class=r.class+t[n].replace(/./," "):r.class=t[n].substring(1);else if(/\=/.test(t[n])){var i=t[n].split(/\=/);r[i[0]]=i[1]}return r},g.dialects.Maruku.block.document_meta=function(e,t){if(!(e.lineNumber>1)&&e.match(/^(?:\w+:.*\n)*\w+:.*$/)){u(this.tree)||this.tree.splice(1,0,{});var r=e.split(/\n/);for(p in r){var n=r[p].match(/(\w+):\s*(.*)$/),i=n[1].toLowerCase(),o=n[2];this.tree[1][i]=o}return[]}},g.dialects.Maruku.block.block_meta=function(e,t){var r=e.match(/(^|\n) {0,3}\{:\s*((?:\\\}|[^\}])*)\s*\}$/);if(r){var n,i=this.dialect.processMetaHash(r[2]);if(""===r[1]){var o=this.tree[this.tree.length-1];if(n=u(o),"string"==typeof o)return;n||(n={},o.splice(1,0,n));for(a in i)n[a]=i[a];return[]}var s=e.replace(/\n.*$/,""),l=this.processBlock(s,[]);n=u(l[0]),n||(n={},l[0].splice(1,0,n));for(a in i)n[a]=i[a];return l}},g.dialects.Maruku.block.definition_list=function(e,t){var r,n,i=/^((?:[^\s:].*\n)+):\s+([\s\S]+)$/,o=["dl"];if(n=e.match(i)){for(var a=[e];t.length&&i.exec(t[0]);)a.push(t.shift());for(var s=0;s<a.length;++s){var n=a[s].match(i),l=n[1].replace(/\n$/,"").split(/\n/),u=n[2].split(/\n:\s+/);for(r=0;r<l.length;++r)o.push(["dt",l[r]]);for(r=0;r<u.length;++r)o.push(["dd"].concat(this.processInline(u[r].replace(/(\n)\s+/,"$1"))))}return[o]}},g.dialects.Maruku.block.table=function e(t,r){var n,i,o=function(e,t){t=t||"\\s",t.match(/^[\\|\[\]{}?*.+^$]$/)&&(t="\\"+t);for(var r,n=[],i=new RegExp("^((?:\\\\.|[^\\\\"+t+"])*)"+t+"(.*)");r=e.match(i);)n.push(r[1]),e=r[2];return n.push(e),n},a=/^ {0,3}\|(.+)\n {0,3}\|\s*([\-:]+[\-| :]*)\n((?:\s*\|.*(?:\n|$))*)(?=\n|$)/,s=/^ {0,3}(\S(?:\\.|[^\\|])*\|.*)\n {0,3}([\-:]+\s*\|[\-| :]*)\n((?:(?:\\.|[^\\|])*\|.*(?:\n|$))*)(?=\n|$)/;if(i=t.match(a))i[3]=i[3].replace(/^\s*\|/gm,"");else if(!(i=t.match(s)))return;var e=["table",["thead",["tr"]],["tbody"]];i[2]=i[2].replace(/\|\s*$/,"").split("|");var l=[];for(y(i[2],function(e){e.match(/^\s*-+:\s*$/)?l.push({align:"right"}):e.match(/^\s*:-+\s*$/)?l.push({align:"left"}):e.match(/^\s*:-+:\s*$/)?l.push({align:"center"}):l.push({})}),i[1]=o(i[1].replace(/\|\s*$/,""),"|"),n=0;n<i[1].length;n++)e[1][1].push(["th",l[n]||{}].concat(this.processInline(i[1][n].trim())));return y(i[3].replace(/\|\s*$/gm,"").split("\n"),function(t){var r=["tr"];for(t=o(t,"|"),n=0;n<t.length;n++)r.push(["td",l[n]||{}].concat(this.processInline(t[n].trim())));e[2].push(r)},this),[e]},g.dialects.Maruku.inline["{:"]=function(e,t,r){if(!r.length)return[2,"{:"];var n=r[r.length-1];if("string"==typeof n)return[2,"{:"];var i=e.match(/^\{:\s*((?:\\\}|[^\}])*)\s*\}/);if(!i)return[2,"{:"];var o=this.dialect.processMetaHash(i[1]),a=u(n);a||(a={},n.splice(1,0,a));for(var s in o)a[s]=o[s];return[i[0].length,""]},g.dialects.Maruku.inline.__escape__=/^\\[\\`\*_{}\[\]()#\+.!\-|:]/,g.buildBlockOrder(g.dialects.Maruku.block),g.buildInlinePatterns(g.dialects.Maruku.inline);var y,m=Array.isArray||function(e){return"[object Array]"==Object.prototype.toString.call(e)};y=Array.prototype.forEach?function(e,t,r){return e.forEach(t,r)}:function(e,t,r){for(var n=0;n<e.length;n++)t.call(r||e,e[n],n,e)};
var b=function(e){for(var t in e)if(hasOwnProperty.call(e,t))return!1;return!0};e.renderJsonML=function(e,t){t=t||{},t.root=t.root||!1;var r=[];if(t.root)r.push(f(e));else for(e.shift(),!e.length||"object"!==n(e[0])||e[0]instanceof Array||e.shift();e.length;)r.push(f(e.shift()));return r.join("\n\n")}}(function(){return t}())},function(e,t,r){(function(e,n){"use strict";function i(e,r){var n={seen:[],stylize:a};return arguments.length>=3&&(n.depth=arguments[2]),arguments.length>=4&&(n.colors=arguments[3]),g(r)?n.showHidden=r:r&&t._extend(n,r),k(n.showHidden)&&(n.showHidden=!1),k(n.depth)&&(n.depth=2),k(n.colors)&&(n.colors=!1),k(n.customInspect)&&(n.customInspect=!0),n.colors&&(n.stylize=o),l(n,e,n.depth)}function o(e,t){var r=i.styles[t];return r?"["+i.colors[r][0]+"m"+e+"["+i.colors[r][1]+"m":e}function a(e,t){return e}function s(e){var t={};return e.forEach(function(e,r){t[e]=!0}),t}function l(e,r,n){if(e.customInspect&&r&&T(r.inspect)&&r.inspect!==t.inspect&&(!r.constructor||r.constructor.prototype!==r)){var i=r.inspect(n,e);return b(i)||(i=l(e,i,n)),i}var o=u(e,r);if(o)return o;var a=Object.keys(r),g=s(a);if(e.showHidden&&(a=Object.getOwnPropertyNames(r)),L(r)&&(a.indexOf("message")>=0||a.indexOf("description")>=0))return c(r);if(0===a.length){if(T(r)){var v=r.name?": "+r.name:"";return e.stylize("[Function"+v+"]","special")}if(_(r))return e.stylize(RegExp.prototype.toString.call(r),"regexp");if(E(r))return e.stylize(Date.prototype.toString.call(r),"date");if(L(r))return c(r)}var y="",m=!1,w=["{","}"];if(p(r)&&(m=!0,w=["[","]"]),T(r)){var k=r.name?": "+r.name:"";y=" [Function"+k+"]"}if(_(r)&&(y=" "+RegExp.prototype.toString.call(r)),E(r)&&(y=" "+Date.prototype.toUTCString.call(r)),L(r)&&(y=" "+c(r)),0===a.length&&(!m||0==r.length))return w[0]+y+w[1];if(n<0)return _(r)?e.stylize(RegExp.prototype.toString.call(r),"regexp"):e.stylize("[Object]","special");e.seen.push(r);var x;return x=m?f(e,r,n,g,a):a.map(function(t){return h(e,r,n,g,t,m)}),e.seen.pop(),d(x,y,w)}function u(e,t){if(k(t))return e.stylize("undefined","undefined");if(b(t)){var r="'"+JSON.stringify(t).replace(/^"|"$/g,"").replace(/'/g,"\\'").replace(/\\"/g,'"')+"'";return e.stylize(r,"string")}return m(t)?e.stylize(""+t,"number"):g(t)?e.stylize(""+t,"boolean"):v(t)?e.stylize("null","null"):void 0}function c(e){return"["+Error.prototype.toString.call(e)+"]"}function f(e,t,r,n,i){for(var o=[],a=0,s=t.length;a<s;++a)B(t,String(a))?o.push(h(e,t,r,n,String(a),!0)):o.push("");return i.forEach(function(i){i.match(/^\d+$/)||o.push(h(e,t,r,n,i,!0))}),o}function h(e,t,r,n,i,o){var a,s,u;if(u=Object.getOwnPropertyDescriptor(t,i)||{value:t[i]},u.get?s=u.set?e.stylize("[Getter/Setter]","special"):e.stylize("[Getter]","special"):u.set&&(s=e.stylize("[Setter]","special")),B(n,i)||(a="["+i+"]"),s||(e.seen.indexOf(u.value)<0?(s=v(r)?l(e,u.value,null):l(e,u.value,r-1),s.indexOf("\n")>-1&&(s=o?s.split("\n").map(function(e){return"  "+e}).join("\n").substr(2):"\n"+s.split("\n").map(function(e){return"   "+e}).join("\n"))):s=e.stylize("[Circular]","special")),k(a)){if(o&&i.match(/^\d+$/))return s;a=JSON.stringify(""+i),a.match(/^"([a-zA-Z_][a-zA-Z_0-9]*)"$/)?(a=a.substr(1,a.length-2),a=e.stylize(a,"name")):(a=a.replace(/'/g,"\\'").replace(/\\"/g,'"').replace(/(^"|"$)/g,"'"),a=e.stylize(a,"string"))}return a+": "+s}function d(e,t,r){var n=0,i=e.reduce(function(e,t){return n++,t.indexOf("\n")>=0&&n++,e+t.replace(/\u001b\[\d\d?m/g,"").length+1},0);return i>60?r[0]+(""===t?"":t+"\n ")+" "+e.join(",\n  ")+" "+r[1]:r[0]+t+" "+e.join(", ")+" "+r[1]}function p(e){return Array.isArray(e)}function g(e){return"boolean"==typeof e}function v(e){return null===e}function y(e){return null==e}function m(e){return"number"==typeof e}function b(e){return"string"==typeof e}function w(e){return"symbol"===("undefined"==typeof e?"undefined":D(e))}function k(e){return void 0===e}function _(e){return x(e)&&"[object RegExp]"===M(e)}function x(e){return"object"===("undefined"==typeof e?"undefined":D(e))&&null!==e}function E(e){return x(e)&&"[object Date]"===M(e)}function L(e){return x(e)&&("[object Error]"===M(e)||e instanceof Error)}function T(e){return"function"==typeof e}function S(e){return null===e||"boolean"==typeof e||"number"==typeof e||"string"==typeof e||"symbol"===("undefined"==typeof e?"undefined":D(e))||"undefined"==typeof e}function M(e){return Object.prototype.toString.call(e)}function A(e){return e<10?"0"+e.toString(10):e.toString(10)}function C(){var e=new Date,t=[A(e.getHours()),A(e.getMinutes()),A(e.getSeconds())].join(":");return[e.getDate(),P[e.getMonth()],t].join(" ")}function B(e,t){return Object.prototype.hasOwnProperty.call(e,t)}var D="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},O=/%[sdj%]/g;t.format=function(e){if(!b(e)){for(var t=[],r=0;r<arguments.length;r++)t.push(i(arguments[r]));return t.join(" ")}for(var r=1,n=arguments,o=n.length,a=String(e).replace(O,function(e){if("%%"===e)return"%";if(r>=o)return e;switch(e){case"%s":return String(n[r++]);case"%d":return Number(n[r++]);case"%j":try{return JSON.stringify(n[r++])}catch(e){return"[Circular]"}default:return e}}),s=n[r];r<o;s=n[++r])a+=v(s)||!x(s)?" "+s:" "+i(s);return a},t.deprecate=function(r,i){function o(){if(!a){if(n.throwDeprecation)throw new Error(i);n.traceDeprecation?console.trace(i):console.error(i),a=!0}return r.apply(this,arguments)}if(k(e.process))return function(){return t.deprecate(r,i).apply(this,arguments)};if(n.noDeprecation===!0)return r;var a=!1;return o};var N,R={};t.debuglog=function(e){if(k(N)&&(N=n.env.NODE_DEBUG||""),e=e.toUpperCase(),!R[e])if(new RegExp("\\b"+e+"\\b","i").test(N)){var r=n.pid;R[e]=function(){var n=t.format.apply(t,arguments);console.error("%s %d: %s",e,r,n)}}else R[e]=function(){};return R[e]},t.inspect=i,i.colors={bold:[1,22],italic:[3,23],underline:[4,24],inverse:[7,27],white:[37,39],grey:[90,39],black:[30,39],blue:[34,39],cyan:[36,39],green:[32,39],magenta:[35,39],red:[31,39],yellow:[33,39]},i.styles={special:"cyan",number:"yellow",boolean:"yellow",undefined:"grey",null:"bold",string:"green",date:"magenta",regexp:"red"},t.isArray=p,t.isBoolean=g,t.isNull=v,t.isNullOrUndefined=y,t.isNumber=m,t.isString=b,t.isSymbol=w,t.isUndefined=k,t.isRegExp=_,t.isObject=x,t.isDate=E,t.isError=L,t.isFunction=T,t.isPrimitive=S,t.isBuffer=r(14);var P=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"];t.log=function(){console.log("%s - %s",C(),t.format.apply(t,arguments))},t.inherits=r(15),t._extend=function(e,t){if(!t||!x(t))return e;for(var r=Object.keys(t),n=r.length;n--;)e[r[n]]=t[r[n]];return e}}).call(t,function(){return this}(),r(13))},function(e,t){"use strict";function r(){throw new Error("setTimeout has not been defined")}function n(){throw new Error("clearTimeout has not been defined")}function i(e){if(c===setTimeout)return setTimeout(e,0);if((c===r||!c)&&setTimeout)return c=setTimeout,setTimeout(e,0);try{return c(e,0)}catch(t){try{return c.call(null,e,0)}catch(t){return c.call(this,e,0)}}}function o(e){if(f===clearTimeout)return clearTimeout(e);if((f===n||!f)&&clearTimeout)return f=clearTimeout,clearTimeout(e);try{return f(e)}catch(t){try{return f.call(null,e)}catch(t){return f.call(this,e)}}}function a(){g&&d&&(g=!1,d.length?p=d.concat(p):v=-1,p.length&&s())}function s(){if(!g){var e=i(a);g=!0;for(var t=p.length;t;){for(d=p,p=[];++v<t;)d&&d[v].run();v=-1,t=p.length}d=null,g=!1,o(e)}}function l(e,t){this.fun=e,this.array=t}function u(){}var c,f,h=e.exports={};!function(){try{c="function"==typeof setTimeout?setTimeout:r}catch(e){c=r}try{f="function"==typeof clearTimeout?clearTimeout:n}catch(e){f=n}}();var d,p=[],g=!1,v=-1;h.nextTick=function(e){var t=new Array(arguments.length-1);if(arguments.length>1)for(var r=1;r<arguments.length;r++)t[r-1]=arguments[r];p.push(new l(e,t)),1!==p.length||g||i(s)},l.prototype.run=function(){this.fun.apply(null,this.array)},h.title="browser",h.browser=!0,h.env={},h.argv=[],h.version="",h.versions={},h.on=u,h.addListener=u,h.once=u,h.off=u,h.removeListener=u,h.removeAllListeners=u,h.emit=u,h.binding=function(e){throw new Error("process.binding is not supported")},h.cwd=function(){return"/"},h.chdir=function(e){throw new Error("process.chdir is not supported")},h.umask=function(){return 0}},function(e,t){"use strict";var r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};e.exports=function(e){return e&&"object"===("undefined"==typeof e?"undefined":r(e))&&"function"==typeof e.copy&&"function"==typeof e.fill&&"function"==typeof e.readUInt8}},function(e,t){"use strict";"function"==typeof Object.create?e.exports=function(e,t){e.super_=t,e.prototype=Object.create(t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}})}:e.exports=function(e,t){e.super_=t;var r=function(){};r.prototype=t.prototype,e.prototype=new r,e.prototype.constructor=e}},function(e,t){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var n=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),i=function(){function e(){r(this,e)}return n(e,null,[{key:"LEFT",get:function(){return 37}},{key:"RIGHT",get:function(){return 39}},{key:"ENTER",get:function(){return 13}},{key:"SPACE",get:function(){return 32}}]),e}();t.default=i},function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var o=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),a=r(18),s=n(a),l=r(20),u=n(l),c=function(){function e(){i(this,e)}return o(e,[{key:"create",value:function(e){return new Promise(function(t,r){for(var n=[],i=50,o=Math.ceil(e.length/i),a=0;a<o;++a){var s=(a<9?"0":"")+(a+1)+e.slice(a*i,(a+1)*i);n.push(s)}n=n.map(this.makeQRCode);var l=new u.default({workerScript:"gif.worker.js",workers:1,quality:10,width:164,height:164});n=n.map(this.convertImageToGIF.bind(this,l)),Promise.all(n).then(function(){l.on("finished",function(e){var r=new window.FileReader;r.readAsDataURL(e),r.onloadend=function(){var e=r.result;t(e)}}),l.render()})}.bind(this))}},{key:"makeQRCode",value:function(e){return s.default.toDataURL(e,4)}},{key:"convertImageToGIF",value:function(e,t){return new Promise(function(r,n){var i=new Image;i.onload=function(){e.addFrame(i,{delay:150}),r()},i.src=t})}}]),e}();t.default=c},function(e,t,r){"use strict";var n=r(19);e.exports={typeNumber:4,errorCorrectLevel:"L",toBase64:function(e,t){var r=n(this.typeNumber,this.errorCorrectLevel);r.addData(e),r.make();var i=r.createImgBase64(t);return i},toDataURL:function(e,t){var r=this.toBase64(e,t),n="data:image/gif;base64,"+r;return n}}},function(e,t){"use strict";var r=function(){function e(t,r){if("undefined"==typeof t.length)throw new Error(t.length+"/"+r);var n=function(){for(var e=0;e<t.length&&0==t[e];)e+=1;for(var n=new Array(t.length-e+r),i=0;i<t.length-e;i+=1)n[i]=t[i+e];return n}(),i={};return i.getAt=function(e){return n[e]},i.getLength=function(){return n.length},i.multiply=function(t){for(var r=new Array(i.getLength()+t.getLength()-1),n=0;n<i.getLength();n+=1)for(var o=0;o<t.getLength();o+=1)r[n+o]^=a.gexp(a.glog(i.getAt(n))+a.glog(t.getAt(o)));return e(r,0)},i.mod=function(t){if(i.getLength()-t.getLength()<0)return i;for(var r=a.glog(i.getAt(0))-a.glog(t.getAt(0)),n=new Array(i.getLength()),o=0;o<i.getLength();o+=1)n[o]=i.getAt(o);for(var o=0;o<t.getLength();o+=1)n[o]^=a.gexp(a.glog(t.getAt(o))+r);return e(n,0).mod(t)},i}var t=function(t,r){var i=236,a=17,c=t,f=n[r],h=null,d=0,v=null,y=new Array,m={},b=function(e,t){d=4*c+17,h=function(e){for(var t=new Array(e),r=0;r<e;r+=1){t[r]=new Array(e);for(var n=0;n<e;n+=1)t[r][n]=null}return t}(d),w(0,0),w(d-7,0),w(0,d-7),x(),_(),L(e,t),c>=7&&E(e),null==v&&(v=M(c,f,y)),T(v,t)},w=function(e,t){for(var r=-1;r<=7;r+=1)if(!(e+r<=-1||d<=e+r))for(var n=-1;n<=7;n+=1)t+n<=-1||d<=t+n||(0<=r&&r<=6&&(0==n||6==n)||0<=n&&n<=6&&(0==r||6==r)||2<=r&&r<=4&&2<=n&&n<=4?h[e+r][t+n]=!0:h[e+r][t+n]=!1)},k=function(){for(var e=0,t=0,r=0;r<8;r+=1){b(!0,r);var n=o.getLostPoint(m);(0==r||e>n)&&(e=n,t=r)}return t},_=function(){for(var e=8;e<d-8;e+=1)null==h[e][6]&&(h[e][6]=e%2==0);for(var t=8;t<d-8;t+=1)null==h[6][t]&&(h[6][t]=t%2==0)},x=function(){for(var e=o.getPatternPosition(c),t=0;t<e.length;t+=1)for(var r=0;r<e.length;r+=1){var n=e[t],i=e[r];if(null==h[n][i])for(var a=-2;a<=2;a+=1)for(var s=-2;s<=2;s+=1)a==-2||2==a||s==-2||2==s||0==a&&0==s?h[n+a][i+s]=!0:h[n+a][i+s]=!1}},E=function(e){for(var t=o.getBCHTypeNumber(c),r=0;r<18;r+=1){var n=!e&&1==(t>>r&1);h[Math.floor(r/3)][r%3+d-8-3]=n}for(var r=0;r<18;r+=1){var n=!e&&1==(t>>r&1);h[r%3+d-8-3][Math.floor(r/3)]=n}},L=function(e,t){for(var r=f<<3|t,n=o.getBCHTypeInfo(r),i=0;i<15;i+=1){var a=!e&&1==(n>>i&1);i<6?h[i][8]=a:i<8?h[i+1][8]=a:h[d-15+i][8]=a}for(var i=0;i<15;i+=1){var a=!e&&1==(n>>i&1);i<8?h[8][d-i-1]=a:i<9?h[8][15-i-1+1]=a:h[8][15-i-1]=a}h[d-8][8]=!e},T=function(e,t){for(var r=-1,n=d-1,i=7,a=0,s=o.getMaskFunction(t),l=d-1;l>0;l-=2)for(6==l&&(l-=1);;){for(var u=0;u<2;u+=1)if(null==h[n][l-u]){var c=!1;a<e.length&&(c=1==(e[a]>>>i&1));var f=s(n,l-u);f&&(c=!c),h[n][l-u]=c,i-=1,i==-1&&(a+=1,i=7)}if(n+=r,n<0||d<=n){n-=r,r=-r;break}}},S=function(t,r){for(var n=0,i=0,a=0,s=new Array(r.length),l=new Array(r.length),u=0;u<r.length;u+=1){var c=r[u].dataCount,f=r[u].totalCount-c;i=Math.max(i,c),a=Math.max(a,f),s[u]=new Array(c);for(var h=0;h<s[u].length;h+=1)s[u][h]=255&t.getBuffer()[h+n];n+=c;var d=o.getErrorCorrectPolynomial(f),p=e(s[u],d.getLength()-1),g=p.mod(d);l[u]=new Array(d.getLength()-1);for(var h=0;h<l[u].length;h+=1){var v=h+g.getLength()-l[u].length;l[u][h]=v>=0?g.getAt(v):0}}for(var y=0,h=0;h<r.length;h+=1)y+=r[h].totalCount;for(var m=new Array(y),b=0,h=0;h<i;h+=1)for(var u=0;u<r.length;u+=1)h<s[u].length&&(m[b]=s[u][h],b+=1);for(var h=0;h<a;h+=1)for(var u=0;u<r.length;u+=1)h<l[u].length&&(m[b]=l[u][h],b+=1);return m},M=function(e,t,r){for(var n=s.getRSBlocks(e,t),u=l(),c=0;c<r.length;c+=1){var f=r[c];u.put(f.getMode(),4),u.put(f.getLength(),o.getLengthInBits(f.getMode(),e)),f.write(u)}for(var h=0,c=0;c<n.length;c+=1)h+=n[c].dataCount;if(u.getLengthInBits()>8*h)throw new Error("code length overflow. ("+u.getLengthInBits()+">"+8*h+")");for(u.getLengthInBits()+4<=8*h&&u.put(0,4);u.getLengthInBits()%8!=0;)u.putBit(!1);for(;;){if(u.getLengthInBits()>=8*h)break;if(u.put(i,8),u.getLengthInBits()>=8*h)break;u.put(a,8)}return S(u,n)};return m.addData=function(e){var t=u(e);y.push(t),v=null},m.isDark=function(e,t){if(e<0||d<=e||t<0||d<=t)throw new Error(e+","+t);return h[e][t]},m.getModuleCount=function(){return d},m.make=function(){b(!1,k())},m.createTableTag=function(e,t){e=e||2,t="undefined"==typeof t?4*e:t;var r="";r+='<table style="',r+=" border-width: 0px; border-style: none;",r+=" border-collapse: collapse;",r+=" padding: 0px; margin: "+t+"px;",r+='">',r+="<tbody>";for(var n=0;n<m.getModuleCount();n+=1){r+="<tr>";for(var i=0;i<m.getModuleCount();i+=1)r+='<td style="',r+=" border-width: 0px; border-style: none;",r+=" border-collapse: collapse;",r+=" padding: 0px; margin: 0px;",r+=" width: "+e+"px;",r+=" height: "+e+"px;",r+=" background-color: ",r+=m.isDark(n,i)?"#000000":"#ffffff",r+=";",r+='"/>';r+="</tr>"}return r+="</tbody>",r+="</table>"},m.createImgTag=function(e,t){e=e||2,t="undefined"==typeof t?4*e:t;var r=m.getModuleCount()*e+2*t,n=t,i=r-t;return p(r,r,function(t,r){if(n<=t&&t<i&&n<=r&&r<i){var o=Math.floor((t-n)/e),a=Math.floor((r-n)/e);return m.isDark(a,o)?0:1}return 1})},m.createImgBase64=function(e,t){e=e||2,t="undefined"==typeof t?4*e:t;var r=m.getModuleCount()*e+2*t,n=t,i=r-t;return g(r,r,function(t,r){if(n<=t&&t<i&&n<=r&&r<i){var o=Math.floor((t-n)/e),a=Math.floor((r-n)/e);return m.isDark(a,o)?0:1}return 1})},m};t.stringToBytes=function(e){for(var t=new Array,r=0;r<e.length;r+=1){var n=e.charCodeAt(r);t.push(255&n)}return t},t.createStringToBytes=function(e,t){var r=function(){for(var r=h(e),n=function(){var e=r.read();if(e==-1)throw new Error;return e},i=0,o={};;){var a=r.read();if(a==-1)break;var s=n(),l=n(),u=n(),c=String.fromCharCode(a<<8|s),f=l<<8|u;o[c]=f,i+=1}if(i!=t)throw new Error(i+" != "+t);return o}(),n="?".charCodeAt(0);return function(e){for(var t=new Array,i=0;i<e.length;i+=1){var o=e.charCodeAt(i);if(o<128)t.push(o);else{var a=r[e.charAt(i)];"number"==typeof a?(255&a)==a?t.push(a):(t.push(a>>>8),t.push(255&a)):t.push(n)}}return t}};var r={MODE_NUMBER:1,MODE_ALPHA_NUM:2,MODE_8BIT_BYTE:4,MODE_KANJI:8},n={L:1,M:0,Q:3,H:2},i={PATTERN000:0,PATTERN001:1,PATTERN010:2,PATTERN011:3,PATTERN100:4,PATTERN101:5,PATTERN110:6,PATTERN111:7},o=function(){var t=[[],[6,18],[6,22],[6,26],[6,30],[6,34],[6,22,38],[6,24,42],[6,26,46],[6,28,50],[6,30,54],[6,32,58],[6,34,62],[6,26,46,66],[6,26,48,70],[6,26,50,74],[6,30,54,78],[6,30,56,82],[6,30,58,86],[6,34,62,90],[6,28,50,72,94],[6,26,50,74,98],[6,30,54,78,102],[6,28,54,80,106],[6,32,58,84,110],[6,30,58,86,114],[6,34,62,90,118],[6,26,50,74,98,122],[6,30,54,78,102,126],[6,26,52,78,104,130],[6,30,56,82,108,134],[6,34,60,86,112,138],[6,30,58,86,114,142],[6,34,62,90,118,146],[6,30,54,78,102,126,150],[6,24,50,76,102,128,154],[6,28,54,80,106,132,158],[6,32,58,84,110,136,162],[6,26,54,82,110,138,166],[6,30,58,86,114,142,170]],n=1335,o=7973,s=21522,l={},u=function(e){for(var t=0;0!=e;)t+=1,e>>>=1;return t};return l.getBCHTypeInfo=function(e){for(var t=e<<10;u(t)-u(n)>=0;)t^=n<<u(t)-u(n);return(e<<10|t)^s},l.getBCHTypeNumber=function(e){for(var t=e<<12;u(t)-u(o)>=0;)t^=o<<u(t)-u(o);return e<<12|t},l.getPatternPosition=function(e){return t[e-1]},l.getMaskFunction=function(e){switch(e){case i.PATTERN000:return function(e,t){return(e+t)%2==0};case i.PATTERN001:return function(e,t){return e%2==0};case i.PATTERN010:return function(e,t){return t%3==0};case i.PATTERN011:return function(e,t){return(e+t)%3==0};case i.PATTERN100:return function(e,t){return(Math.floor(e/2)+Math.floor(t/3))%2==0};case i.PATTERN101:return function(e,t){return e*t%2+e*t%3==0};case i.PATTERN110:return function(e,t){return(e*t%2+e*t%3)%2==0};case i.PATTERN111:return function(e,t){return(e*t%3+(e+t)%2)%2==0};default:throw new Error("bad maskPattern:"+e)}},l.getErrorCorrectPolynomial=function(t){for(var r=e([1],0),n=0;n<t;n+=1)r=r.multiply(e([1,a.gexp(n)],0));return r},l.getLengthInBits=function(e,t){if(1<=t&&t<10)switch(e){case r.MODE_NUMBER:return 10;case r.MODE_ALPHA_NUM:return 9;case r.MODE_8BIT_BYTE:return 8;case r.MODE_KANJI:return 8;default:throw new Error("mode:"+e)}else if(t<27)switch(e){case r.MODE_NUMBER:return 12;case r.MODE_ALPHA_NUM:return 11;case r.MODE_8BIT_BYTE:return 16;case r.MODE_KANJI:return 10;default:throw new Error("mode:"+e)}else{if(!(t<41))throw new Error("type:"+t);switch(e){case r.MODE_NUMBER:return 14;case r.MODE_ALPHA_NUM:return 13;case r.MODE_8BIT_BYTE:return 16;case r.MODE_KANJI:return 12;default:throw new Error("mode:"+e)}}},l.getLostPoint=function(e){for(var t=e.getModuleCount(),r=0,n=0;n<t;n+=1)for(var i=0;i<t;i+=1){for(var o=0,a=e.isDark(n,i),s=-1;s<=1;s+=1)if(!(n+s<0||t<=n+s))for(var l=-1;l<=1;l+=1)i+l<0||t<=i+l||0==s&&0==l||a==e.isDark(n+s,i+l)&&(o+=1);o>5&&(r+=3+o-5)}for(var n=0;n<t-1;n+=1)for(var i=0;i<t-1;i+=1){var u=0;e.isDark(n,i)&&(u+=1),e.isDark(n+1,i)&&(u+=1),e.isDark(n,i+1)&&(u+=1),e.isDark(n+1,i+1)&&(u+=1),0!=u&&4!=u||(r+=3)}for(var n=0;n<t;n+=1)for(var i=0;i<t-6;i+=1)e.isDark(n,i)&&!e.isDark(n,i+1)&&e.isDark(n,i+2)&&e.isDark(n,i+3)&&e.isDark(n,i+4)&&!e.isDark(n,i+5)&&e.isDark(n,i+6)&&(r+=40);for(var i=0;i<t;i+=1)for(var n=0;n<t-6;n+=1)e.isDark(n,i)&&!e.isDark(n+1,i)&&e.isDark(n+2,i)&&e.isDark(n+3,i)&&e.isDark(n+4,i)&&!e.isDark(n+5,i)&&e.isDark(n+6,i)&&(r+=40);for(var c=0,i=0;i<t;i+=1)for(var n=0;n<t;n+=1)e.isDark(n,i)&&(c+=1);var f=Math.abs(100*c/t/t-50)/5;return r+=10*f},l}(),a=function(){for(var e=new Array(256),t=new Array(256),r=0;r<8;r+=1)e[r]=1<<r;for(var r=8;r<256;r+=1)e[r]=e[r-4]^e[r-5]^e[r-6]^e[r-8];for(var r=0;r<255;r+=1)t[e[r]]=r;var n={};return n.glog=function(e){if(e<1)throw new Error("glog("+e+")");return t[e]},n.gexp=function(t){for(;t<0;)t+=255;for(;t>=256;)t-=255;return e[t]},n}(),s=function(){var e=[[1,26,19],[1,26,16],[1,26,13],[1,26,9],[1,44,34],[1,44,28],[1,44,22],[1,44,16],[1,70,55],[1,70,44],[2,35,17],[2,35,13],[1,100,80],[2,50,32],[2,50,24],[4,25,9],[1,134,108],[2,67,43],[2,33,15,2,34,16],[2,33,11,2,34,12],[2,86,68],[4,43,27],[4,43,19],[4,43,15],[2,98,78],[4,49,31],[2,32,14,4,33,15],[4,39,13,1,40,14],[2,121,97],[2,60,38,2,61,39],[4,40,18,2,41,19],[4,40,14,2,41,15],[2,146,116],[3,58,36,2,59,37],[4,36,16,4,37,17],[4,36,12,4,37,13],[2,86,68,2,87,69],[4,69,43,1,70,44],[6,43,19,2,44,20],[6,43,15,2,44,16]],t=function(e,t){var r={};return r.totalCount=e,r.dataCount=t,r},r={},i=function(t,r){switch(r){case n.L:return e[4*(t-1)+0];case n.M:return e[4*(t-1)+1];case n.Q:return e[4*(t-1)+2];case n.H:return e[4*(t-1)+3];default:return}};return r.getRSBlocks=function(e,r){var n=i(e,r);if("undefined"==typeof n)throw new Error("bad rs block @ typeNumber:"+e+"/errorCorrectLevel:"+r);for(var o=n.length/3,a=new Array,s=0;s<o;s+=1)for(var l=n[3*s+0],u=n[3*s+1],c=n[3*s+2],f=0;f<l;f+=1)a.push(t(u,c));return a},r}(),l=function(){var e=new Array,t=0,r={};return r.getBuffer=function(){return e},r.getAt=function(t){var r=Math.floor(t/8);return 1==(e[r]>>>7-t%8&1)},r.put=function(e,t){for(var n=0;n<t;n+=1)r.putBit(1==(e>>>t-n-1&1))},r.getLengthInBits=function(){return t},r.putBit=function(r){var n=Math.floor(t/8);e.length<=n&&e.push(0),r&&(e[n]|=128>>>t%8),t+=1},r},u=function(e){var n=r.MODE_8BIT_BYTE,i=t.stringToBytes(e),o={};return o.getMode=function(){return n},o.getLength=function(e){return i.length},o.write=function(e){for(var t=0;t<i.length;t+=1)e.put(i[t],8)},o},c=function(){var e=new Array,t={};return t.writeByte=function(t){e.push(255&t)},t.writeShort=function(e){t.writeByte(e),t.writeByte(e>>>8)},t.writeBytes=function(e,r,n){r=r||0,n=n||e.length;for(var i=0;i<n;i+=1)t.writeByte(e[i+r])},t.writeString=function(e){for(var r=0;r<e.length;r+=1)t.writeByte(e.charCodeAt(r))},t.toByteArray=function(){return e},t.toString=function(){var t="";t+="[";for(var r=0;r<e.length;r+=1)r>0&&(t+=","),t+=e[r];return t+="]"},t},f=function(){var e=0,t=0,r=0,n="",i={},o=function(e){n+=String.fromCharCode(a(63&e))},a=function(e){if(e<0);else{if(e<26)return 65+e;if(e<52)return 97+(e-26);if(e<62)return 48+(e-52);if(62==e)return 43;if(63==e)return 47}throw new Error("n:"+e)};return i.writeByte=function(n){for(e=e<<8|255&n,t+=8,r+=1;t>=6;)o(e>>>t-6),t-=6},i.flush=function(){if(t>0&&(o(e<<6-t),e=0,t=0),r%3!=0)for(var i=3-r%3,a=0;a<i;a+=1)n+="="},i.toString=function(){return n},i},h=function(e){var t=e,r=0,n=0,i=0,o={};o.read=function(){for(;i<8;){if(r>=t.length){if(0==i)return-1;throw new Error("unexpected end of file./"+i)}var e=t.charAt(r);if(r+=1,"="==e)return i=0,-1;e.match(/^\s$/)||(n=n<<6|a(e.charCodeAt(0)),i+=6)}var o=n>>>i-8&255;return i-=8,o};var a=function(e){if(65<=e&&e<=90)return e-65;if(97<=e&&e<=122)return e-97+26;if(48<=e&&e<=57)return e-48+52;if(43==e)return 62;if(47==e)return 63;throw new Error("c:"+e)};return o},d=function(e,t){var r=e,n=t,i=new Array(e*t),o={};o.setPixel=function(e,t,n){i[t*r+e]=n},o.write=function(e){e.writeString("GIF87a"),e.writeShort(r),e.writeShort(n),e.writeByte(128),e.writeByte(0),e.writeByte(0),e.writeByte(0),e.writeByte(0),e.writeByte(0),e.writeByte(255),e.writeByte(255),e.writeByte(255),e.writeString(","),e.writeShort(0),e.writeShort(0),e.writeShort(r),e.writeShort(n),e.writeByte(0);var t=2,i=s(t);e.writeByte(t);for(var o=0;i.length-o>255;)e.writeByte(255),e.writeBytes(i,o,255),o+=255;e.writeByte(i.length-o),e.writeBytes(i,o,i.length-o),e.writeByte(0),e.writeString(";")};var a=function(e){var t=e,r=0,n=0,i={};return i.write=function(e,i){if(e>>>i!=0)throw new Error("length over");for(;r+i>=8;)t.writeByte(255&(e<<r|n)),i-=8-r,e>>>=8-r,n=0,r=0;n|=e<<r,r+=i},i.flush=function(){r>0&&t.writeByte(n)},i},s=function(e){for(var t=1<<e,r=(1<<e)+1,n=e+1,o=l(),s=0;s<t;s+=1)o.add(String.fromCharCode(s));o.add(String.fromCharCode(t)),o.add(String.fromCharCode(r));var u=c(),f=a(u);f.write(t,n);var h=0,d=String.fromCharCode(i[h]);for(h+=1;h<i.length;){var p=String.fromCharCode(i[h]);h+=1,o.contains(d+p)?d+=p:(f.write(o.indexOf(d),n),o.size()<4095&&(o.size()==1<<n&&(n+=1),o.add(d+p)),d=p)}return f.write(o.indexOf(d),n),f.write(r,n),f.flush(),u.toByteArray()},l=function(){var e={},t=0,r={};return r.add=function(n){if(r.contains(n))throw new Error("dup key:"+n);e[n]=t,t+=1},r.size=function(){return t},r.indexOf=function(t){return e[t]},r.contains=function(t){return"undefined"!=typeof e[t]},r};return o},p=function(e,t,r,n){for(var i=d(e,t),o=0;o<t;o+=1)for(var a=0;a<e;a+=1)i.setPixel(a,o,r(a,o));var s=c();i.write(s);for(var l=f(),u=s.toByteArray(),h=0;h<u.length;h+=1)l.writeByte(u[h]);l.flush();var p="";return p+="<img",p+=' src="',p+="data:image/gif;base64,",p+=l,p+='"',p+=' width="',p+=e,p+='"',p+=' height="',p+=t,p+='"',n&&(p+=' alt="',p+=n,p+='"'),p+="/>"},g=function(e,t,r){for(var n=d(e,t),i=0;i<t;i+=1)for(var o=0;o<e;o+=1)n.setPixel(o,i,r(o,i));var a=c();n.write(a);for(var s=f(),l=a.toByteArray(),u=0;u<l.length;u+=1)s.writeByte(l[u]);return s.flush(),s.toString()};return t}();e.exports=r},function(e,t,r){var n,i,o,a,a,s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};!function(r){if("object"===s(t)&&"undefined"!=typeof e)e.exports=r();else{i=[],n=r,o="function"==typeof n?n.apply(t,i):n,!(void 0!==o&&(e.exports=o))}}(function(){return function e(t,r,n){function i(s,l){if(!r[s]){if(!t[s]){var u="function"==typeof a&&a;if(!l&&u)return a(s,!0);if(o)return o(s,!0);var c=new Error("Cannot find module '"+s+"'");throw c.code="MODULE_NOT_FOUND",c}var f=r[s]={exports:{}};t[s][0].call(f.exports,function(e){var r=t[s][1][e];return i(r?r:e)},f,f.exports,e,t,r,n)}return r[s].exports}for(var o="function"==typeof a&&a,s=0;s<n.length;s++)i(n[s]);return i}({1:[function(e,t,r){function n(){this._events=this._events||{},this._maxListeners=this._maxListeners||void 0}function i(e){return"function"==typeof e}function o(e){return"number"==typeof e}function a(e){return"object"===("undefined"==typeof e?"undefined":s(e))&&null!==e}function l(e){return void 0===e}t.exports=n,n.EventEmitter=n,n.prototype._events=void 0,n.prototype._maxListeners=void 0,n.defaultMaxListeners=10,n.prototype.setMaxListeners=function(e){if(!o(e)||e<0||isNaN(e))throw TypeError("n must be a positive number");return this._maxListeners=e,this},n.prototype.emit=function(e){var t,r,n,o,s,u;if(this._events||(this._events={}),"error"===e&&(!this._events.error||a(this._events.error)&&!this._events.error.length)){if(t=arguments[1],t instanceof Error)throw t;var c=new Error('Uncaught, unspecified "error" event. ('+t+")");throw c.context=t,c}if(r=this._events[e],l(r))return!1;if(i(r))switch(arguments.length){case 1:r.call(this);break;case 2:r.call(this,arguments[1]);break;case 3:r.call(this,arguments[1],arguments[2]);break;default:o=Array.prototype.slice.call(arguments,1),r.apply(this,o)}else if(a(r))for(o=Array.prototype.slice.call(arguments,1),u=r.slice(),n=u.length,s=0;s<n;s++)u[s].apply(this,o);return!0},n.prototype.addListener=function(e,t){var r;if(!i(t))throw TypeError("listener must be a function");return this._events||(this._events={}),this._events.newListener&&this.emit("newListener",e,i(t.listener)?t.listener:t),this._events[e]?a(this._events[e])?this._events[e].push(t):this._events[e]=[this._events[e],t]:this._events[e]=t,a(this._events[e])&&!this._events[e].warned&&(r=l(this._maxListeners)?n.defaultMaxListeners:this._maxListeners,r&&r>0&&this._events[e].length>r&&(this._events[e].warned=!0,console.error("(node) warning: possible EventEmitter memory leak detected. %d listeners added. Use emitter.setMaxListeners() to increase limit.",this._events[e].length),"function"==typeof console.trace&&console.trace())),this},n.prototype.on=n.prototype.addListener,n.prototype.once=function(e,t){function r(){this.removeListener(e,r),n||(n=!0,t.apply(this,arguments))}if(!i(t))throw TypeError("listener must be a function");var n=!1;return r.listener=t,this.on(e,r),this},n.prototype.removeListener=function(e,t){var r,n,o,s;if(!i(t))throw TypeError("listener must be a function");if(!this._events||!this._events[e])return this;if(r=this._events[e],o=r.length,n=-1,r===t||i(r.listener)&&r.listener===t)delete this._events[e],this._events.removeListener&&this.emit("removeListener",e,t);else if(a(r)){for(s=o;s-- >0;)if(r[s]===t||r[s].listener&&r[s].listener===t){n=s;break}if(n<0)return this;1===r.length?(r.length=0,delete this._events[e]):r.splice(n,1),this._events.removeListener&&this.emit("removeListener",e,t)}return this},n.prototype.removeAllListeners=function(e){var t,r;if(!this._events)return this;if(!this._events.removeListener)return 0===arguments.length?this._events={}:this._events[e]&&delete this._events[e],this;if(0===arguments.length){for(t in this._events)"removeListener"!==t&&this.removeAllListeners(t);return this.removeAllListeners("removeListener"),this._events={},this}if(r=this._events[e],i(r))this.removeListener(e,r);else if(r)for(;r.length;)this.removeListener(e,r[r.length-1]);return delete this._events[e],this},n.prototype.listeners=function(e){var t;return t=this._events&&this._events[e]?i(this._events[e])?[this._events[e]]:this._events[e].slice():[]},n.prototype.listenerCount=function(e){if(this._events){var t=this._events[e];if(i(t))return 1;if(t)return t.length}return 0},n.listenerCount=function(e,t){return e.listenerCount(t)}},{}],2:[function(e,t,r){var n,i,o,a,s;s=navigator.userAgent.toLowerCase(),a=navigator.platform.toLowerCase(),n=s.match(/(opera|ie|firefox|chrome|version)[\s\/:]([\w\d\.]+)?.*?(safari|version[\s\/:]([\w\d\.]+)|$)/)||[null,"unknown",0],o="ie"===n[1]&&document.documentMode,i={name:"version"===n[1]?n[3]:n[1],version:o||parseFloat("opera"===n[1]&&n[4]?n[4]:n[2]),platform:{name:s.match(/ip(?:ad|od|hone)/)?"ios":(s.match(/(?:webos|android)/)||a.match(/mac|win|linux/)||["other"])[0]}},i[i.name]=!0,i[i.name+parseInt(i.version,10)]=!0,i.platform[i.platform.name]=!0,t.exports=i},{}],3:[function(e,t,r){var n,i,o,a=function(e,t){function r(){this.constructor=e}for(var n in t)s.call(t,n)&&(e[n]=t[n]);return r.prototype=t.prototype,e.prototype=new r,e.__super__=t.prototype,e},s={}.hasOwnProperty,l=[].indexOf||function(e){for(var t=0,r=this.length;t<r;t++)if(t in this&&this[t]===e)return t;return-1},u=[].slice;n=e("events").EventEmitter,o=e("./browser.coffee"),i=function(e){function t(e){var t,n,i;this.running=!1,this.options={},this.frames=[],this.freeWorkers=[],this.activeWorkers=[],this.setOptions(e);for(n in r)i=r[n],null==(t=this.options)[n]&&(t[n]=i)}var r,n;return a(t,e),r={workerScript:"gif.worker.js",workers:2,repeat:0,background:"#fff",quality:10,width:null,height:null,transparent:null,debug:!1,dither:!1},n={delay:500,copy:!1},t.prototype.setOption=function(e,t){if(this.options[e]=t,null!=this._canvas&&("width"===e||"height"===e))return this._canvas[e]=t},t.prototype.setOptions=function(e){var t,r,n;r=[];for(t in e)s.call(e,t)&&(n=e[t],r.push(this.setOption(t,n)));return r},t.prototype.addFrame=function(e,t){var r,i;null==t&&(t={}),r={},r.transparent=this.options.transparent;
for(i in n)r[i]=t[i]||n[i];if(null==this.options.width&&this.setOption("width",e.width),null==this.options.height&&this.setOption("height",e.height),"undefined"!=typeof ImageData&&null!==ImageData&&e instanceof ImageData)r.data=e.data;else if("undefined"!=typeof CanvasRenderingContext2D&&null!==CanvasRenderingContext2D&&e instanceof CanvasRenderingContext2D||"undefined"!=typeof WebGLRenderingContext&&null!==WebGLRenderingContext&&e instanceof WebGLRenderingContext)t.copy?r.data=this.getContextData(e):r.context=e;else{if(null==e.childNodes)throw new Error("Invalid image");t.copy?r.data=this.getImageData(e):r.image=e}return this.frames.push(r)},t.prototype.render=function(){var e,t,r,n;if(this.running)throw new Error("Already running");if(null==this.options.width||null==this.options.height)throw new Error("Width and height must be set prior to rendering");if(this.running=!0,this.nextFrame=0,this.finishedFrames=0,this.imageParts=function(){var t,r,n;for(n=[],e=t=0,r=this.frames.length;0<=r?t<r:t>r;e=0<=r?++t:--t)n.push(null);return n}.call(this),r=this.spawnWorkers(),this.options.globalPalette===!0)this.renderNextFrame();else for(e=t=0,n=r;0<=n?t<n:t>n;e=0<=n?++t:--t)this.renderNextFrame();return this.emit("start"),this.emit("progress",0)},t.prototype.abort=function(){for(var e;;){if(e=this.activeWorkers.shift(),null==e)break;this.log("killing active worker"),e.terminate()}return this.running=!1,this.emit("abort")},t.prototype.spawnWorkers=function(){var e,t,r;return e=Math.min(this.options.workers,this.frames.length),function(){r=[];for(var n=t=this.freeWorkers.length;t<=e?n<e:n>e;t<=e?n++:n--)r.push(n);return r}.apply(this).forEach(function(e){return function(t){var r;return e.log("spawning worker "+t),r=new Worker(e.options.workerScript),r.onmessage=function(t){return e.activeWorkers.splice(e.activeWorkers.indexOf(r),1),e.freeWorkers.push(r),e.frameFinished(t.data)},e.freeWorkers.push(r)}}(this)),e},t.prototype.frameFinished=function(e){var t,r,n;if(this.log("frame "+e.index+" finished - "+this.activeWorkers.length+" active"),this.finishedFrames++,this.emit("progress",this.finishedFrames/this.frames.length),this.imageParts[e.index]=e,this.options.globalPalette===!0&&(this.options.globalPalette=e.globalPalette,this.log("global palette analyzed"),this.frames.length>2))for(t=r=1,n=this.freeWorkers.length;1<=n?r<n:r>n;t=1<=n?++r:--r)this.renderNextFrame();return l.call(this.imageParts,null)>=0?this.renderNextFrame():this.finishRendering()},t.prototype.finishRendering=function(){var e,t,r,n,i,o,a,s,l,u,c,f,h,d,p,g;for(s=0,d=this.imageParts,i=0,l=d.length;i<l;i++)t=d[i],s+=(t.data.length-1)*t.pageSize+t.cursor;for(s+=t.pageSize-t.cursor,this.log("rendering finished - filesize "+Math.round(s/1e3)+"kb"),e=new Uint8Array(s),f=0,p=this.imageParts,o=0,u=p.length;o<u;o++)for(t=p[o],g=t.data,r=a=0,c=g.length;a<c;r=++a)h=g[r],e.set(h,f),f+=r===t.data.length-1?t.cursor:t.pageSize;return n=new Blob([e],{type:"image/gif"}),this.emit("finished",n,e)},t.prototype.renderNextFrame=function(){var e,t,r;if(0===this.freeWorkers.length)throw new Error("No free workers");if(!(this.nextFrame>=this.frames.length))return e=this.frames[this.nextFrame++],r=this.freeWorkers.shift(),t=this.getTask(e),this.log("starting frame "+(t.index+1)+" of "+this.frames.length),this.activeWorkers.push(r),r.postMessage(t)},t.prototype.getContextData=function(e){return e.getImageData(0,0,this.options.width,this.options.height).data},t.prototype.getImageData=function(e){var t;return null==this._canvas&&(this._canvas=document.createElement("canvas"),this._canvas.width=this.options.width,this._canvas.height=this.options.height),t=this._canvas.getContext("2d"),t.setFill=this.options.background,t.fillRect(0,0,this.options.width,this.options.height),t.drawImage(e,0,0),this.getContextData(t)},t.prototype.getTask=function(e){var t,r;if(t=this.frames.indexOf(e),r={index:t,last:t===this.frames.length-1,delay:e.delay,transparent:e.transparent,width:this.options.width,height:this.options.height,quality:this.options.quality,dither:this.options.dither,globalPalette:this.options.globalPalette,repeat:this.options.repeat,canTransfer:"chrome"===o.name},null!=e.data)r.data=e.data;else if(null!=e.context)r.data=this.getContextData(e.context);else{if(null==e.image)throw new Error("Invalid frame");r.data=this.getImageData(e.image)}return r},t.prototype.log=function(){var e;if(e=1<=arguments.length?u.call(arguments,0):[],this.options.debug)return console.log.apply(console,e)},t}(n),t.exports=i},{"./browser.coffee":2,events:1}]},{},[3])(3)})}]);